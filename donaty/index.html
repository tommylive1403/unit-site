<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–î–æ–Ω–∞—Ç–∏ ‚Äî –°–æ–±–∞–∫–∏ –®—É–∫–∞–∫–∏</title>

  <meta name="description" content="–ü—ñ–¥—Ç—Ä–∏–º–∞–π –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª –±–µ–∑–ø—ñ–ª–æ—Ç–Ω–∏—Ö —Å–∏—Å—Ç–µ–º. –î–æ–Ω–∞—Ç–∏." />
  <meta property="og:title" content="–î–æ–Ω–∞—Ç–∏ ‚Äî –°–æ–±–∞–∫–∏ –®—É–∫–∞–∫–∏" />
  <meta property="og:description" content="–û–±–µ—Ä—ñ—Ç—å –∑–±—ñ—Ä —ñ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –±–∞–Ω–∫—É –≤ 1 –∫–ª—ñ–∫." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/donaty/" />
  <meta property="og:image" content="/og-cover.jpg" />

  <link rel="stylesheet" href="/style.css" />

  <style>
    :root{
      --bg:#cfcfcf;
      --card:rgba(255,255,255,.75);
      --border:rgba(0,0,0,.10);
      --text:#0b0b0b;
      --muted:rgba(0,0,0,.6);
      --shadow:0 18px 50px rgba(0,0,0,.22);
    }

    html,body{
      height:100%;
      margin:0;
    }

    body{
      background:
        linear-gradient(135deg, rgba(255,255,255,.4) 0%, transparent 45%),
        linear-gradient(315deg, rgba(0,0,0,.06) 0%, transparent 55%),
        var(--bg);
      display:flex;
      flex-direction:column;
    }

    .header, .header a, .brand__name, .nav a{
      color:#fff!important;
    }

    main{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px 16px 48px;
    }

    .wrap{
      width:100%;
      max-width:980px;
      display:grid;
      gap:24px;
      justify-items:center;
    }

    .logo{
      width:min(340px,60vw);
      filter:drop-shadow(0 18px 40px rgba(0,0,0,.3));
    }

    .card{
      width:100%;
      max-width:720px;
      background:var(--card);
      border:1px solid var(--border);
      border-radius:22px;
      padding:20px 18px 18px;
      box-shadow:var(--shadow);
      text-align:center;
      backdrop-filter:blur(10px);
    }

    .title{
      font-size:26px;
      font-weight:900;
      color:var(--text);
      margin:0 0 6px;
    }

    .subtitle{
      font-size:14px;
      font-weight:700;
      color:var(--muted);
      margin:0 0 16px;
    }

    .donations{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
      gap:16px;
      margin-top:8px;
    }

    .donation{
      background:rgba(255,255,255,.55);
      border:1px solid var(--border);
      border-radius:18px;
      padding:14px;
      box-shadow:0 10px 30px rgba(0,0,0,.12);
      text-align:center;
    }

    .donationTitle{
      font-size:18px;
      font-weight:900;
      color:var(--text);
      margin:0 0 6px;
    }

    .donationSubtitle{
      font-size:13px;
      font-weight:700;
      color:rgba(0,0,0,.62);
      margin:0 0 10px;
    }

    .btn{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:14px 16px;
      border-radius:999px;
      background:#fff;
      border:1px solid var(--border);
      color:var(--text);
      font-weight:900;
      text-decoration:none;
      transition:.2s ease;
      width:100%;
      box-sizing:border-box;
    }

    .btn svg{
      width:22px;
      height:22px;
      fill:currentColor;
      opacity:.9;
    }

    .btn:hover{
      transform:translateY(-2px);
      box-shadow:0 14px 34px rgba(0,0,0,.18);
    }

    .thanks{
      margin-top:14px;
      font-weight:900;
      color:rgba(0,0,0,.6);
      font-size:13px;
    }

    footer{
      padding:14px 16px;
      color:#fff;
      display:flex;
      justify-content:space-between;
      max-width:980px;
      margin:0 auto;
      width:100%;
      opacity:.85;
      box-sizing:border-box;
    }
  </style>
</head>

<body>

<header class="header">
  <div class="header__inner">
    <a href="/" class="brand" aria-label="–ù–∞ –≥–æ–ª–æ–≤–Ω—É">
      <span class="brand__name">–°–û–ë–ê–ö–ò –®–£–ö–ê–ö–ò</span>
    </a>
    <nav class="nav" aria-label="–ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é">
      <a href="/#about">–ü—Ä–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª</a>
      <a href="/#values">–¶—ñ–Ω–Ω–æ—Å—Ç—ñ</a>
      <a href="/donaty/">–î–æ–Ω–∞—Ç–∏</a>
    </nav>
  </div>
</header>

<main>
  <div class="wrap">
    <img src="/logo.png" alt="–°–æ–±–∞–∫–∏ –®—É–∫–∞–∫–∏" class="logo">

    <section class="card" aria-label="–ó–±–æ—Ä–∏">
      <h1 class="title">–î–æ–Ω–∞—Ç–∏</h1>
      <p class="subtitle">–û–±–µ—Ä—ñ—Ç—å –∑–±—ñ—Ä —ñ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –±–∞–Ω–∫—É –≤ 1 –∫–ª—ñ–∫</p>

      <div id="donationsList" class="donations" aria-live="polite"></div>

      <div class="thanks">–î—è–∫—É—î–º–æ üá∫üá¶</div>
    </section>
  </div>
</main>

<footer>
  <div>–°–æ–±–∞–∫–∏ –®—É–∫–∞–∫–∏</div>
  <div>¬© <span id="y"></span></div>
</footer>

<script>
  const DATA_URL = "/donaty/donaty.json";

  function esc(s){
    return String(s).replace(/[&<>"']/g, (m) => ({
      "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
    }[m]));
  }

  async function loadDonations(){
    const root = document.getElementById("donationsList");
    if(!root) return;

    try{
      const r = await fetch(DATA_URL + "?v=" + Date.now(), { cache: "no-store" });
      if(!r.ok) throw new Error("JSON not found: " + r.status);
      const data = await r.json();

      const list = Array.isArray(data.donations) ? data.donations : [];
      if(list.length === 0){
        root.innerHTML = `<div class="donation"><div class="donationTitle">–ó–±–æ—Ä—ñ–≤ –ø–æ–∫–∏ –Ω–µ–º–∞—î</div></div>`;
        return;
      }

      root.innerHTML = list.map((d) => {
        const title = esc(d.title || "–ó–±—ñ—Ä");
        const subtitle = esc(d.subtitle || "");
        const url = esc(d.mono_url || "#");

        return `
          <article class="donation">
            <h2 class="donationTitle">${title}</h2>
            ${subtitle ? `<p class="donationSubtitle">${subtitle}</p>` : ``}

            <a class="btn" href="${url}" target="_blank" rel="noopener">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M7 7h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2z"></path>
              </svg>
              –ü–æ–ø–æ–≤–Ω–∏—Ç–∏ –ë–∞–Ω–∫—É
            </a>
          </article>
        `;
      }).join("");

    } catch(e){
      console.error("Donations load error:", e);
      root.innerHTML = `<div class="donation"><div class="donationTitle">–ó–±—ñ—Ä —Ç–∏–º—á–∞—Å–æ–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π</div></div>`;
    }
  }

  loadDonations();
  document.getElementById("y").textContent = String(new Date().getFullYear());
</script>

</body>
</html>

