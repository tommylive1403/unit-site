<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Актуальний збір — Собаки Шукаки</title>

  <meta name="description" content="Підтримай підрозділ безпілотних систем. Актуальний збір." />
  <meta property="og:title" content="Актуальний збір — Собаки Шукаки" />
  <meta property="og:description" content="Підтримай підрозділ безпілотних систем. Донат → результат." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/donaty" />
  <meta property="og:image" content="/og-cover.jpg" />

  <!-- Твій загальний стиль залишаємо (хедер/шрифти), але картку робимо окремою -->
  <link rel="stylesheet" href="/style.css" />

  <style>
    /* ===== Mono-like page (light card, like screenshot) ===== */
    :root{
      --mono-bg: #cfcfcf;
      --mono-card: rgba(255,255,255,.75);
      --mono-card2: rgba(255,255,255,.55);
      --mono-border: rgba(0,0,0,.10);
      --mono-text: #0b0b0b;
      --mono-muted: rgba(0,0,0,.62);
      --mono-muted2: rgba(0,0,0,.42);
      --mono-shadow: 0 18px 50px rgba(0,0,0,.22);
      --mono-shadow2: 0 10px 30px rgba(0,0,0,.14);
    }

    /* фон як на скріні: світло-сірий + легкі діагоналі */
    body{
      background:
        linear-gradient(135deg, rgba(255,255,255,.40) 0%, rgba(255,255,255,0) 45%),
        linear-gradient(315deg, rgba(0,0,0,.06) 0%, rgba(0,0,0,0) 55%),
        var(--mono-bg) !important;
    }

    /* header лишається твоїм, але робимо контрастний текст */
    .header, .header a, .brand__name, .nav a{
      color:#fff !important;
    }

    .d-wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 22px 16px 56px;
    }

    .monoGrid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 18px;
      align-items:start;
      justify-items:center;
      margin-top: 10px;
    }

    .monoLogo{
      width: min(340px, 60vw);
      filter: drop-shadow(0 18px 40px rgba(0,0,0,.28));
    }

    .monoCard{
      width: min(720px, 92vw);
      background: var(--mono-card);
      border: 1px solid var(--mono-border);
      border-radius: 22px;
      padding: 18px 18px 16px;
      box-shadow: var(--mono-shadow);
      backdrop-filter: blur(10px);
    }

    .monoTitle{
      font-weight: 900;
      font-size: 24px;
      line-height: 1.15;
      color: var(--mono-text);
      text-align: center;
      margin: 2px 0 10px;
    }

    .monoSubtitle{
      text-align:center;
      color: var(--mono-muted);
      font-weight: 700;
      font-size: 14px;
      margin: 0 0 14px;
    }

    .monoMeta{
      display:flex;
      justify-content: center;
      gap: 18px;
      flex-wrap:wrap;
      margin-bottom: 12px;
    }

    .monoPill{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(0,0,0,.08);
      color: var(--mono-muted);
      font-weight: 900;
      letter-spacing: .02em;
      box-shadow: var(--mono-shadow2);
    }
    .monoPill b{ color: var(--mono-text); }

    .monoBarWrap{
      margin-top: 6px;
    }

    .monoBarTop{
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      gap: 10px;
      margin-bottom: 10px;
      font-weight: 900;
      color: var(--mono-muted);
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: .10em;
    }
    .monoBarTop #pct{
      color: var(--mono-text);
      letter-spacing: .06em;
    }

    .monoBar{
      height: 14px;
      border-radius: 999px;
      background: rgba(0,0,0,.10);
      border: 1px solid rgba(0,0,0,.10);
      overflow:hidden;
      position: relative;
    }
    .monoFill{
      height:100%;
      width:0%;
      background: rgba(255,255,255,.98);
      border-right: 1px solid rgba(0,0,0,.10);
      transition: width .65s ease;
    }

    .monoBtn{
      margin-top: 14px;
      width: 100%;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 12px;
      padding: 16px 18px;
      border-radius: 999px;
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(0,0,0,.10);
      color: var(--mono-text);
      font-weight: 1000;
      text-transform: none;
      letter-spacing: .04em;
      box-shadow: var(--mono-shadow2);
      transition: transform .22s ease, box-shadow .22s ease, background-color .22s ease;
    }
    .monoBtn:hover, .monoBtn:focus-visible{
      transform: translateY(-2px);
      background: rgba(255,255,255,1);
      box-shadow: 0 16px 40px rgba(0,0,0,.18);
    }
    .monoBtn:active{ transform: translateY(0); }

    .monoBtnIcon{
      width: 22px;
      height: 22px;
      opacity: .9;
    }

    .monoUpdated{
      margin-top: 10px;
      text-align:center;
      color: var(--mono-muted2);
      font-weight: 800;
      font-size: 12px;
      letter-spacing: .06em;
    }

    /* соц-ряд як на скріні — чорні іконки */
    .monoSocial{
      margin-top: 12px;
      display:flex;
      justify-content:center;
      gap: 14px;
    }
    .monoSocial a{
      display:inline-flex;
      width: 34px;
      height: 34px;
      align-items:center;
      justify-content:center;
      color: #111;
      opacity: .85;
      transition: transform .18s ease, opacity .18s ease;
    }
    .monoSocial a:hover{
      transform: translateY(-2px);
      opacity: 1;
    }
    .monoSocial svg{ width: 22px; height: 22px; fill: currentColor; }

    @media (max-width: 767px){
      .monoTitle{ font-size: 20px; }
      .monoCard{ padding: 16px 14px 14px; border-radius: 20px; }
      .monoLogo{ width: min(280px, 70vw); }
    }
    
    html, body {
    height: 100%;
    }

    body {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    }

    .fullscreen {
    flex: 1;
    display: flex;
    align-items: center;     /* вертикаль */
    justify-content: center; /* горизонталь */
    }

  </style>
</head>

<body>
  <header class="header">
    <div class="header__inner">
      <a href="/" class="brand" aria-label="На головну">
        <span class="brand__name">СОБАКИ ШУКАКИ</span>
      </a>
      <nav class="nav" aria-label="Головне меню">
        <a href="/#about">Про підрозділ</a>
        <a href="/#values">Цінності</a>
        <a href="/donaty">Донати</a>
      </nav>
    </div>
  </header>

  <main class="d-wrap fullscreen">
    <div class="monoGrid">
      <img class="monoLogo" src="/logo.png" alt="Собаки Шукаки">

      <section class="monoCard" aria-label="Актуальний збір">
        <h1 class="monoTitle" id="titleText">Збір на ремонт авто.</h1>
        <p class="monoSubtitle">Збір на поточні витрати підрозділу: ремонт дронів, авто і т.п.</p>
        <a class="monoBtn" id="monoBtn" href="https://send.monobank.ua/jar/4g2vud36xP" target="_blank" rel="noopener">
          <svg class="monoBtnIcon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M7 7h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2z"/>
          </svg>
          Поповнити Банку
        </a>

        <div class="monoSocial" aria-label="Соціальні мережі">
          <a href="https://instagram.com/shukaki_sobaki" aria-label="Instagram" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm10 2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3z"/>
              <path d="M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/>
              <path d="M18 6.2a1.1 1.1 0 1 1 0 2.2 1.1 1.1 0 0 1 0-2.2z"/>
            </svg>
          </a>

          <a href="http://www.facebook.com/sobaki.shukaki" aria-label="Facebook" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M13.5 22v-8h2.7l.4-3H13.5V9.1c0-.9.3-1.6 1.7-1.6h1.5V4.8c-.7-.1-1.6-.2-2.7-.2-2.7 0-4.5 1.6-4.5 4.6V11H7v3h2.5v8h4z"/>
            </svg>
          </a>

          <a href="http://www.tiktok.com/@sobaki_shukaki" aria-label="TikTok" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M16.5 3c.6 2.7 2.3 4.4 5 5v3.4c-1.9.1-3.6-.5-5.1-1.6v6.8c0 4-3.2 7.2-7.2 7.2S2 20.6 2 16.6s3.2-7.2 7.2-7.2c.4 0 .8 0 1.2.1v3.8c-.4-.1-.8-.2-1.2-.2-2 0-3.5 1.6-3.5 3.5S7.3 20 9.2 20s3.5-1.6 3.5-3.5V3h3.8z"/>
            </svg>
          </a>

          <a href="https://t.me/+bMUnarod-Kw3Mzdi" aria-label="Telegram" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M21.6 4.6 3.4 11.6c-1 .4-.9 1.8.2 2.1l4.3 1.3 1.6 5.1c.3 1 1.6 1.2 2.2.4l2.5-3 4.7 3.5c.8.6 1.9.1 2.1-.9l2.9-14.1c.2-1-.8-1.9-1.8-1.4zM9.3 14.6l8.6-7.1c.2-.2.6.1.4.3l-7.2 8.1-.3 3.2-1.4-4.5z"/>
            </svg>
          </a>
        </div>

        <div class="monoUpdated" id="updatedText"></div>
      </section>
    </div>
  </main>

  <footer class="footer">
    <div class="footer__inner">
      <div>Собаки Шукаки</div>
      <div>© <span id="y"></span></div>
    </div>
  </footer>

  <script>
    const DATA_URL = "/donaty/donaty.json";

    const fmt = (n) =>
      new Intl.NumberFormat("uk-UA").format(Math.round(n)) + " грн";

    function formatUpdated(iso){
      try{
        const d = new Date(iso);
        if (isNaN(d.getTime())) return "";
        return "Оновлено: " + d.toLocaleString("uk-UA", {
          day:"2-digit", month:"2-digit", year:"numeric",
          hour:"2-digit", minute:"2-digit"
        });
      } catch { return ""; }
    }

    async function loadDonation(){
      try{
        const r = await fetch(DATA_URL + "?v=" + Date.now(), { cache: "no-store" });
        if(!r.ok) throw new Error("JSON not found: " + r.status);
        const data = await r.json();

        const title = (data.title || "Збір активний").toString();
        const goal = Number(data.goal || 0);
        const raised = Number(data.raised || 0);
        const monoUrl = (data.mono_url || "").toString();

        document.getElementById("titleText").textContent = title;
        document.getElementById("goalUah").textContent = fmt(goal);
        document.getElementById("raisedUah").textContent = fmt(raised);

        const pctRaw = goal > 0 ? (raised / goal) * 100 : 0;
        const pct = Math.max(0, Math.min(100, pctRaw || 0));

        document.getElementById("pct").textContent = (pct < 10 ? pct.toFixed(1) : pct.toFixed(0));
        document.getElementById("fill").style.width = pct.toFixed(2) + "%";

        const bar = document.querySelector(".monoBar[role='progressbar']");
        if (bar) bar.setAttribute("aria-valuenow", pct.toFixed(0));

        const monoBtn = document.getElementById("monoBtn");
        if (monoBtn && monoUrl) monoBtn.href = monoUrl;

        const upd = document.getElementById("updatedText");
        if (upd && data.updated_at) upd.textContent = formatUpdated(data.updated_at);

      } catch(e){
        console.error("Donation load error:", e);
        document.getElementById("titleText").textContent = "Збір тимчасово недоступний";
      }
    }

    loadDonation();
    document.getElementById("y").textContent = String(new Date().getFullYear());
  </script>
</body>
</html>


